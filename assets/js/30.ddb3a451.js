(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{557:function(s,t,n){"use strict";n.r(t);var e=n(8),a=Object(e.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"npmrc-配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npmrc-配置"}},[s._v("#")]),s._v(" npmrc 配置")]),s._v(" "),n("h3",{attrs:{id:"什么是-npmrc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是-npmrc"}},[s._v("#")]),s._v(" 什么是 npmrc")]),s._v(" "),n("p",[n("code",[s._v("npmrc")]),s._v(" 是 npm 的配置文件，它可以用来配置 npm 的行为。npmrc 文件的默认位置是在用户目录下的 "),n("code",[s._v(".npmrc")]),s._v(" 文件。")]),s._v(" "),n("h3",{attrs:{id:"常用配置项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用配置项"}},[s._v("#")]),s._v(" 常用配置项")]),s._v(" "),n("ul",[n("li",[n("code",[s._v("registry")]),s._v(": 配置 npm 包的 registry 地址，默认是 "),n("code",[s._v("https://registry.npmjs.org/")]),s._v("。")]),s._v(" "),n("li",[n("code",[s._v("shamefully-hoist=true")]),s._v(": 配置是否开启扁平化安装依赖，默认是 "),n("code",[s._v("false")]),s._v("。")]),s._v(" "),n("li",[n("code",[s._v("audit=false")]),s._v(": 配置是否开启安全审计，默认是 "),n("code",[s._v("true")]),s._v("。")]),s._v(" "),n("li",[n("code",[s._v("progress=false")]),s._v(": 配置是否开启安装进度显示，默认是 "),n("code",[s._v("true")]),s._v("。")])]),s._v(" "),n("h3",{attrs:{id:"配置示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置示例"}},[s._v("#")]),s._v(" 配置示例")]),s._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置 npm 包的 registry 地址为淘宝镜像")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("registry")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org/\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启扁平化安装依赖")]),s._v("\nshamefully-hoist"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("true\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开启扁平化安装依赖可以解决依赖冲突的问题，但是也会导致一些问题，比如依赖的版本不一致。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用--模拟项目结构举个例子")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 假设我们有一个项目，它的依赖结构如下：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# project/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ├── node_modules/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   ├── dep1/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   ├── dep2/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   │   ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   │   ├── dep3/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   │   │   ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   │   │   └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   │   └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   └── dep4/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │       ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │       └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 假设我们的项目依赖了 dep1 和 dep4，dep1 依赖了 dep2，dep2 依赖了 dep3。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当我们使用 npm install 安装依赖时，会按照依赖的顺序进行安装。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装完成后，项目的依赖结构如下：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# project/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ├── node_modules/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   ├── dep1/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   ├── dep2/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   │   ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   │   ├── dep3/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   │   │   ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   │   │   └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   │   └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   ├── dep4/")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   ├── package.json")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   │   └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# │   └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# └── index.js")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 可以看到，dep3 被安装到了项目的 node_modules 目录下，而不是 dep2 的 node_modules 目录下。")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这就是扁平化安装依赖的效果。")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭安全审计")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("audit")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭安装进度显示")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("progress")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("false\n\n\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 总结")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);