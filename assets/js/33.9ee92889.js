(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{568:function(l,a,v){"use strict";v.r(a);var e=v(8),t=Object(e.a)({},(function(){var l=this,a=l.$createElement,v=l._self._c||a;return v("ContentSlotsDistributor",{attrs:{"slot-key":l.$parent.slotKey}},[v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"title"}),v("p",[l._v("Rollup打包工具")])]),v("h1",{attrs:{id:"rollup"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#rollup"}},[l._v("#")]),l._v(" Rollup")]),l._v(" "),v("blockquote",[v("p",[l._v("Webpack和Rollup都是打包工具，Webpack那么强大为什么还要用Rollup?")])]),l._v(" "),v("h2",{attrs:{id:"rollup是什么"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#rollup是什么"}},[l._v("#")]),l._v(" Rollup是什么")]),l._v(" "),v("p",[v("code",[l._v("Rollup")]),l._v(" 是一种 "),v("code",[l._v("JavaScript")]),l._v(" 模块打包工具，它可以将 "),v("code",[l._v("JavaScript")]),l._v(" 模块打包成一个或多个独立的文件，"),v("strong",[l._v("用于在浏览器或其他环境中运行")]),l._v("。它根据模块之间的依赖关系，将这些模块合并成一个或多个 "),v("code",[l._v("bundle")]),l._v(" 文件。")]),l._v(" "),v("p",[l._v("听起来和"),v("code",[l._v("Webpack")]),l._v("很像，那与其他常见的打包工具（如"),v("code",[l._v("Webpack")]),l._v(" 和"),v("code",[l._v("Parcel")]),l._v("）相比，Rollup 有什么特点呢：")]),l._v(" "),v("ul",[v("li",[v("p",[v("strong",[l._v("Tree Shaking:")]),l._v(" "),v("code",[l._v("Rollup")]),l._v(" 通过静态分析代码，可以检测到哪些模块没有被使用到，并且会将这些没有使用到的模块删除，以减小最终的 bundle 文件的体积。这个过程被称为 Tree Shaking，有助于减少不必要的代码和提升应用的性能。")])]),l._v(" "),v("li",[v("p",[v("strong",[l._v("ES 模块（ESM）支持:")]),v("code",[l._v("Rollup")]),l._v(" 原生支持 ES 模块的语法，可以直接处理 ES 块的导入和导出。这使得开发者可以使用最新的"),v("code",[l._v("JavaScript")]),l._v(" 言特性，以更代化的方式组织和管理模块。")])]),l._v(" "),v("li",[v("p",[v("strong",[l._v("插件系统:")]),l._v(" "),v("code",[l._v("Rollup")]),l._v(" 提供了丰富的插件系统，允许开发者通过插件来扩展和定制构建过程。可以使用插件来进行代码转换、模块解析、资源处理等操作，以满足不同项目的需。")])]),l._v(" "),v("li",[v("p",[v("strong",[l._v("简单和轻量:")]),l._v(" 相比于其他打包工具，"),v("code",[l._v("Rollup")]),l._v(" 具有简单、轻量特点。它的配置简洁，配置选项较少，使用起来加直观和容易上手。")])])]),l._v(" "),v("p",[v("code",[l._v("Rollup")]),l._v(" 是一个现代的 JavaScript 模块打包器，它以简约、高效和可扩展性而闻名。与其他打包器相比，Rollup 专注于 ES 模块，并且提供了强大的 Tree Shaking 来减少不必要的代码，最大限度的优化和提升应用的性能。")]),l._v(" "),v("h2",{attrs:{id:"rollup的一些核心概念"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#rollup的一些核心概念"}},[l._v("#")]),l._v(" Rollup的一些核心概念")]),l._v(" "),v("ol",[v("li",[v("p",[v("strong",[l._v("入口文件（Entry File）：")]),l._v(" 入口文件是你的应用程序或库的主文件，更是 Rollup 开始构建的起点。入口文件指定了"),v("strong",[l._v("依赖关系图")]),l._v("的根节点。")])]),l._v(" "),v("li",[v("p",[v("strong",[l._v("依赖关系图（Dependency Graph）：")]),l._v(" 依赖关系图是 Rollup 根据入口文件和所有相关依赖自动构建的一张图表。它了各个模块之间的依赖关系，包括每个模块依赖的其他模块和导出的内容。")])]),l._v(" "),v("li",[v("p",[v("strong",[l._v("模块（Module）：")]),l._v(" 模块是代码的单独单元，可以是一个文件或一个文件中的一个部分。每个模块都有自己的作域，并且可以导入和导出变量、函数和类等。")])]),l._v(" "),v("li",[v("p",[v("strong",[l._v("导入（Import）和导出（Export）：")]),l._v(" 通过导入和导出语法，模块可以与其他模块进行交互。导入语法允许模块使用其他模块中导出的内容，而导出语法允许模块将自己的内容暴露给其他模块使用。")])]),l._v(" "),v("li",[v("p",[v("strong",[l._v("Bundle：")]),l._v(" "),v("code",[l._v("Bundle")]),l._v(" 是 构建输出的最终文件。它包含所有被捆绑在一起的模块和它们的依赖关系。Bundle 可以是单个"),v("code",[l._v("JavaScript")]),l._v(" 文件，也可以是多个文件组成的目录。")])]),l._v(" "),v("li",[v("p",[v("strong",[l._v("模块格式（Module Format）：")]),l._v(" 模块格式定义了将模块打包到"),v("code",[l._v("Bundle")]),l._v(" 中的方式。常见的模块格式包括 "),v("code",[l._v("ES 模块（ESM）")]),l._v("，"),v("code",[l._v("CommonJS模块（CJS）")]),l._v("，"),v("code",[l._v("AMD 模块")]),l._v("以及全局变量"),v("code",[l._v("IIFE")]),l._v("等。")])]),l._v(" "),v("li",[v("p",[v("strong",[l._v("插件（Plugins）：")]),l._v(" 插件是"),v("code",[l._v("Rollup")]),l._v(" 的扩展，用于在构建过程中自定义和增强功能。它们可以在各个阶段进行代码转换、优化、添加附加功能和处理其他任务。通过使用插件，你可以根据自己的特定需求来扩展和定制"),v("code",[l._v("Rollup")]),l._v(" 的行为。")])]),l._v(" "),v("li",[v("p",[v("strong",[l._v("Tree Shaking：")]),l._v(" Tree Shaking 是"),v("code",[l._v("Rollup")]),l._v(" 的一个重要特性，它能够通过静态分析准确识别未使用的代码，并将其从 Bundle 中删除。这样可以减小"),v("code",[l._v("Bundle")]),l._v(" 的大小，优化应用的性能。")])])]),l._v(" "),v("h2",{attrs:{id:"开始rollup之旅"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#开始rollup之旅"}},[l._v("#")]),l._v(" 开始Rollup之旅")]),l._v(" "),v("h4",{attrs:{id:"安装参考-rollup官网"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#安装参考-rollup官网"}},[l._v("#")]),l._v(" 安装参考："),v("a",{attrs:{href:"https://www.rollupjs.com",target:"_blank",rel:"noopener noreferrer"}},[l._v("Rollup官网"),v("OutboundLink")],1)]),l._v(" "),v("h4",{attrs:{id:"打包不同的模块格式"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#打包不同的模块格式"}},[l._v("#")]),l._v(" 打包不同的模块格式")]),l._v(" "),v("p",[l._v("假设我们需要打包的入门文件名为"),v("code",[l._v("mian.js")]),l._v(", 并且希望将所有导入编译到一个名为"),v("code",[l._v("bundle.js")]),l._v("的单个文件中。那么我们只需要在cmd中执行一下命令：")]),l._v(" "),v("ol",[v("li",[l._v("iife格式：用于浏览器")])]),l._v(" "),v("div",{staticClass:"language-bash extra-class"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[l._v("# 编译为包含自执行函数（'iife'）的 <script>。")]),l._v("\nrollup main.js --file bundle.js --format iife\n")])])]),v("ol",{attrs:{start:"2"}},[v("li",[l._v("CommonJs格式, 用于Node.js")])]),l._v(" "),v("div",{staticClass:"language-bash extra-class"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[l._v("# 编译为一个 CommonJS 模块 ('cjs')")]),l._v("\nrollup main.js --file bundle.js --format cjs\n")])])]),v("ol",{attrs:{start:"3"}},[v("li",[l._v("UMD格式, 用于浏览器和 Node.js：")])]),l._v(" "),v("div",{staticClass:"language-bash extra-class"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[v("span",{pre:!0,attrs:{class:"token comment"}},[l._v("# UMD 格式需要一个包名")]),l._v("\nrollup main.js --file bundle.js --format umd --name "),v("span",{pre:!0,attrs:{class:"token string"}},[l._v('"myBundle"')]),l._v("\n")])])]),v("h4",{attrs:{id:"配置文件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[l._v("#")]),l._v(" 配置文件")])])}),[],!1,null,null,null);a.default=t.exports}}]);